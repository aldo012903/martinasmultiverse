import{_ as y,t as l,v as c,x as n,S as x,R as I,U as A,r as w,V as P,c as v,o as q,e as S,g as p,W as O,X as C,Y as L,Z as k,q as M,z as h,M as E,N as B,i as z,C as j,D as N}from"./DNjAp3Fe.js";const V={props:{isLoading:Boolean,progress:Number},computed:{progressWidth(){return Math.min(Math.max(this.progress,0),100)}}},R={key:0,class:"conts animate__animated animate__fadeIn"},D={id:"center",class:""},T=A('<div class="row" data-v-b9341111><div class="sq" id="sq-1" data-v-b9341111></div><div class="sq" id="sq-2" data-v-b9341111></div><div class="sq" id="sq-3" data-v-b9341111></div><div class="sq" id="sq-4" data-v-b9341111></div><div class="sq" id="sq-5" data-v-b9341111></div><div class="sq" id="sq-6" data-v-b9341111></div><div class="sq" id="sq-7" data-v-b9341111></div><div class="sq" id="sq-8" data-v-b9341111></div><div class="sq" id="sq-9" data-v-b9341111></div><div class="sq" id="sq-10" data-v-b9341111></div><div class="sq" id="sq-11" data-v-b9341111></div><div class="sq" id="sq-12" data-v-b9341111></div></div>',1);function F(e,s,a,i,r,t){return a.isLoading?(l(),c("div",R,[n("div",D,[n("div",{id:"main",style:x({width:t.progressWidth+"%"})},null,4),T])])):I("",!0)}const b=y(V,[["render",F],["__scopeId","data-v-b9341111"]]);var U=Object.defineProperty,W=Object.defineProperties,G=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,_=(e,s,a)=>s in e?U(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,X=(e,s)=>{for(var a in s||(s={}))H.call(s,a)&&_(e,a,s[a]);if(f)for(var a of f(s))Q.call(s,a)&&_(e,a,s[a]);return e},Y=(e,s)=>W(e,G(s)),Z={props:{src:{type:String,required:!0},srcPlaceholder:{type:String,default:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},srcset:{type:String},intersectionOptions:{type:Object,default:()=>({})},usePicture:{type:Boolean,default:!1}},inheritAttrs:!1,setup(e,{attrs:s,slots:a,emit:i}){const r=w(null),t=P({observer:null,intersected:!1,loaded:!1}),u=v(()=>t.intersected&&e.src?e.src:e.srcPlaceholder),m=v(()=>t.intersected&&e.srcset?e.srcset:!1),o=()=>{r.value&&r.value.getAttribute("src")!==e.srcPlaceholder&&(t.loaded=!0,i("load",r.value))},g=()=>i("error",r.value);return q(()=>{"IntersectionObserver"in window&&(t.observer=new IntersectionObserver(d=>{d[0].isIntersecting&&(t.intersected=!0,t.observer.disconnect(),i("intersect"))},e.intersectionOptions),t.observer.observe(r.value))}),S(()=>{"IntersectionObserver"in window&&t.observer&&t.observer.disconnect()}),()=>{const d=p("img",Y(X({ref:r,src:u.value,srcset:m.value||null},s),{class:[s.class,"v-lazy-image",{"v-lazy-image-loaded":t.loaded}],onLoad:o,onError:g}));return e.usePicture?p("picture",{ref:r,onLoad:o},t.intersected?[a.default,d]:[d]):d}}};const J={components:{LoadingSpinner:b,VLazyImage:Z},data(){return{images:[],loading:!1,loadCount:0,progress:0,showModal:!1,currentImageIndex:0,songs:["fineline.mp3","yesimchanging.mp3","godisawoman.mp3"],currentSongIndex:0,isPlaying:!1}},methods:{async fetchImages(){this.loading=!0;const e=O(),s=C(e,"images/");try{const a=await L(s);this.images=await Promise.all(a.items.map(i=>k(i)))}catch(a){console.error("Error fetching images:",a)}},onImageLoad(){this.incrementLoadCount()},onImageError(e){console.error("Failed to load image",e),this.incrementLoadCount()},incrementLoadCount(){this.loadCount++,this.progress=this.loadCount/this.images.length*100,this.loadCount===this.images.length&&setTimeout(()=>{this.loading=!1},500)},openModal(e){console.log(e),this.showModal=!0,this.currentImageIndex=e},closeModal(){this.showModal=!1},nextImage(){this.currentImageIndex=(this.currentImageIndex+1)%this.images.length},prevImage(){this.currentImageIndex=(this.currentImageIndex-1+this.images.length)%this.images.length},async goTo(e){await M({path:"/"+e})},playSong(){const e=this.$refs.audioPlayer;e?e.currentTime===0?(this.isPlaying=!0,e.src="_nuxt/assets/"+this.songs[0],e.play().catch(s=>{console.error("Failed to play audio:",s)}),e.onended=()=>{this.currentSongIndex++,this.playSong(this.currentSongIndex)}):e.paused?(e.play(),this.isPlaying=!0):(e.pause(),this.isPlaying=!1):console.error("Audio player not found.")}},created(){this.fetchImages()},mounted(){}},K=e=>(j("data-v-0317c215"),e=e(),N(),e),$={class:"containerS"},ee={key:0,class:"modal"},se=["src"],te=["onClick"],ae={ref:"audioPlayer",preload:"auto"},re={key:0,class:""},oe={key:1,class:""},ne=K(()=>n("span",{class:""},"🏠",-1)),ie=[ne];function de(e,s,a,i,r,t){const u=b,m=z("v-lazy-image");return l(),c("div",$,[h(u,{"is-loading":r.loading,progress:r.progress},null,8,["is-loading","progress"]),r.showModal?(l(),c("div",ee,[n("span",{class:"close no-underline",onClick:s[0]||(s[0]=(...o)=>t.closeModal&&t.closeModal(...o))},"×"),n("a",{class:"prev no-underline",onClick:s[1]||(s[1]=(...o)=>t.prevImage&&t.prevImage(...o))},"❮"),n("img",{src:r.images[r.currentImageIndex],class:"modal-content"},null,8,se),n("a",{class:"next no-underline",onClick:s[2]||(s[2]=(...o)=>t.nextImage&&t.nextImage(...o))},"❯")])):I("",!0),(l(!0),c(E,null,B(r.images,(o,g)=>(l(),c("figure",{key:g,onClick:d=>t.openModal(g)},[h(m,{src:o,alt:"",class:"image-container",onLoad:t.onImageLoad,onError:d=>t.onImageError(o)},null,8,["src","onLoad","onError"])],8,te))),128)),n("audio",ae,null,512),n("div",{class:"fixed rounded-full bg-black z-50 w-[50px] h-[50px] right-[10px] bottom-[10px] cursor-pointer text-white flex justify-center items-center",onClick:s[3]||(s[3]=o=>t.playSong())},[r.isPlaying?(l(),c("span",re,"❚❚")):(l(),c("span",oe,"►"))]),n("div",{class:"fixed rounded-full bg-black z-50 w-[50px] h-[50px] left-[10px] bottom-[10px] cursor-pointer text-white flex justify-center items-center",onClick:s[4]||(s[4]=o=>t.goTo("home"))},ie)])}const ge=y(J,[["render",de],["__scopeId","data-v-0317c215"]]);export{ge as default};
